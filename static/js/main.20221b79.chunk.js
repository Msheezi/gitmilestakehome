(this.webpackJsonpgetmiles=this.webpackJsonpgetmiles||[]).push([[0],{26:function(e,n,r){e.exports=r(41)},31:function(e,n,r){},37:function(e,n,r){},41:function(e,n,r){"use strict";r.r(n);var t=r(0),a=r.n(t),o=r(9),c=r.n(o),i=(r(31),r(5)),u=(r(37),r(18)),d=r(19),l=r(25),s=r(24),p=r(1),f=r(2);function g(){var e=Object(p.a)(["\n  grid-area: vertspacer;\n  grid-row-start: 1;\n  grid-row-end: span 8;\n  border-right: 1px solid black;\n  margin: 10px;\n"]);return g=function(){return e},e}function m(){var e=Object(p.a)(["\ngrid-area: spacer;\nheight: 50px;\n\n"]);return m=function(){return e},e}function b(){var e=Object(p.a)(["\n  \n  line-height:20px;\n  width: 20px;\n  position: absolute;\n  top: 2px;\n  right:2px;\n  cursor: pointer;\n  border-radius: 10px;\n  background-color: white;\n"]);return b=function(){return e},e}function v(){var e=Object(p.a)(["\n         line-height: 100px;\n         margin: 20px auto;\n         background-color: ",";\n         grid-area: ",";\n         text-align: center;\n         height: 100px;\n         width:100px;\n         position: relative;\n         \n\n\n       "]);return v=function(){return e},e}function h(){var e=Object(p.a)(["\n    grid-area: ",";\n    grid-row-start: 2;\n    grid-row-end: span 7;\n    text-align: center;\n    border-right: 1px solid black;\n"]);return h=function(){return e},e}function x(){var e=Object(p.a)(["\n   grid-column-start: 3 ;\n   grid-column-end: 8;\n   border-bottom: 1px solid black;\n   margin-bottom: 10px;\n   \n\n"]);return x=function(){return e},e}function w(){var e=Object(p.a)(["\n  text-align: center;\n  grid-area: ",";\n  /* border-bottom: 1px solid black; */\n  margin: 20px auto;\n  /* text-decoration: underline; */\n  \n"]);return w=function(){return e},e}function y(){var e=Object(p.a)(["\n  cursor: pointer;\n  box-sizing: border-box;\n  width: 100px;\n  height: 100px;\n  background-color: ",";\n  text-align: center;\n  line-height: 100px;\n  margin: 20px auto;\n  grid-area: ",";\n\n\n"]);return y=function(){return e},e}function E(){var e=Object(p.a)(['\n         display: grid;\n         width: 80vw;\n         grid-template-columns: minmax(150px,1fr) 0.5fr minmax(150px,1fr) minmax(150px,1fr) minmax(150px,1fr) minmax(150px,1fr) minmax(150px,1fr);\n         /* 150px 50px 150px 150px 150px 150px 150px  */\n          \n         grid-template-rows: auto;\n         /* grid-gap: 20px; */\n         grid-template-areas:\n           "rewardheader vertspacer categoryheader . . . ."\n           ".  . c1header  c2header  c3header  c4header  c5header"\n           ". . . spacer . . ."\n           "r1 . r1c1 r1c2 r1c3 r1c4 r1c5"\n           "r2 . r2c1 r2c2 r2c3 r2c4 r2c5"\n           "r3 . r3c1 r3c2 r3c3 r3c4 r3c5"\n           "r4 . r4c1 r4c2 r4c3 r4c4 r4c5"\n           "r5 . r5c1 r5c2 r5c3 r5c4 r5c5"\n           ". . . resetbutton . . .";\n       ']);return E=function(){return e},e}var k=f.a.div(E()),D=f.a.div(y(),(function(e){return e.color}),(function(e){return e.location})),O=f.a.h2(w(),(function(e){return e.location})),R=f.a.div(x()),j=f.a.div(h(),(function(e){return e.location})),S=f.a.div(v(),(function(e){return e.color}),(function(e){return e.location})),A=f.a.div(b()),T=f.a.div(m()),C=f.a.div(g()),_=[{name:"r1",category:"c1",bgcolor:"#f5e6e8"},{name:"r2",category:"c2",bgcolor:"#a3f7b5"},{name:"r3",category:"c3",bgcolor:"#40c9a2"},{name:"r4",category:"c4",bgcolor:"#2f9c95"},{name:"r5",category:"c5",bgcolor:"#bee3ea"}],U={r1:"#f5e6e8",r2:"#a3f7b5",r3:"#40c9a2",r4:"#2f9c95",r5:"#bee3ea"},P=function(e){Object(l.a)(r,e);var n=Object(s.a)(r);function r(){return Object(u.a)(this,r),n.apply(this,arguments)}return Object(d.a)(r,[{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragStart",value:function(e,n,r){e.dataTransfer.setData("id",n),e.dataTransfer.setData("key",r)}},{key:"onDrop",value:function(e,n){var r=e.dataTransfer.getData("id"),t=e.dataTransfer.getData("key"),a="".concat(r).concat(n),o=this.props.rewards.find((function(e){return e.key===t}));if(o&&o.location!==a)this.props.movingReward(o,n);else if(!o){var c={name:r,location:a,bgcolor:U[r],key:t};this.props.updateReward(c)}}},{key:"deletePlacedReward",value:function(e){this.props.removeReward(e)}},{key:"renderDropZones",value:function(){var e=this;return["c1","c2","c3","c4","c5"].map((function(n){return a.a.createElement(j,{"data-testid":"".concat(n,"Dropzone"),key:n,location:"".concat(n,"header"),className:"rewards1",onDragOver:function(n){return e.onDragOver(n)},onDrop:function(r){return e.onDrop(r,"".concat(n))}},a.a.createElement("span",{className:"category"},n))}))}},{key:"renderRewards",value:function(){var e=this;return _.map((function(n){return a.a.createElement(D,{"data-testid":"rewards".concat(n.name),key:n.name,color:n.bgcolor,location:n.name,draggable:!0,onDragStart:function(r){return e.onDragStart(r,n.name,Date.now())}},n.name)}))}},{key:"renderPlacedRewards",value:function(){var e,n=this;return this.props.rewards.length>0&&(e=this.props.rewards.map((function(e){return a.a.createElement(S,{"data-testid":"reward ".concat(e.location),location:e.location,key:e.key,color:e.bgcolor,draggable:!0,onDragStart:function(r){return n.onDragStart(r,e.name,e.key)}},e.name,a.a.createElement(A,{onClick:function(){return n.deletePlacedReward(e.key)}},"X"))}))),e}},{key:"resetState",value:function(){localStorage.clear(),this.props.clearState()}},{key:"render",value:function(){var e=this,n=this.renderPlacedRewards(),r=this.renderRewards(),t=this.renderDropZones();return a.a.createElement(k,null,a.a.createElement(T,null),a.a.createElement(O,{style:{borderBottom:"1px solid black"},location:"rewardheader"},"Rewards"),r,a.a.createElement(R,null,a.a.createElement(O,null,"Categories")),t,n,a.a.createElement(C,null),a.a.createElement("div",{style:{gridArea:"resetbutton",paddingTop:"50px"}},a.a.createElement("button",{onClick:function(){return e.resetState()}},"Reset Local Storage")))}}]),r}(a.a.Component),W=Object(i.b)((function(e){var n=e.rewards.present,r=Object.keys(n);return{rewards:r.map((function(e){return n[e]})),keys:r}}),(function(e){return{updateReward:function(n){return e(function(e){return function(e){return{type:"ADD_REWARD",reward:e}}(e)}(n))},removeReward:function(n){return e(function(e){return function(e){return{type:"DELETE_REWARD",key:e}}(e)}(n))},movingReward:function(n,r){return e(function(e,n){return function(e,n){return{type:"UPDATE_REWARD",reward:e,cat:n}}(e,n)}(n,r))},clearState:function(){return e({type:"RESET_STATE"})}}}))(P),L=r(7),J=r.n(L),N=function(e){var n=e.canUndo,r=e.canRedo,t=e.onUndo,o=e.onRedo;return a.a.createElement("p",null,a.a.createElement("button",{type:"undo",onClick:t,disabled:!n},"Undo"),a.a.createElement("button",{type:"redo",onClick:o,disabled:!r},"Redo"))},z=N=Object(i.b)((function(e){return{canUndo:e.rewards.past.length>0,canRedo:e.rewards.future.length>0}}),(function(e){return{onUndo:function(){return e(L.ActionCreators.undo())},onRedo:function(){return e(L.ActionCreators.redo())}}}))(N);var I=function(){return a.a.createElement("div",null,a.a.createElement(W,null),a.a.createElement(z,null))},B=function(e){var n=e.store;return a.a.createElement(i.a,{store:n},a.a.createElement(I,null))},Z=r(3),M=r(23),X=r.n(M),q=r(10),F=r(8),G={},H=J()((function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,r=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(n),r.type){case"ADD_REWARD":return(e=Object.assign({},n))[r.reward.key]=r.reward,e;case"UPDATE_REWARD":var t=r.reward.key;return(e=Object(F.a)(Object(F.a)(Object(F.a)({},n),n.key),{},Object(q.a)({},t,Object(F.a)({},r.reward))))[t].location="".concat(r.reward.name).concat(r.cat),e;case"DELETE_REWARD":return delete(e=Object.assign({},n))[r.key],e;case"RESET_STATE":return{};default:return n}})),K=Object(Z.c)({rewards:H}),Q=function(){var e=function(){try{var e=localStorage.getItem("savedState");if(null===e)return;return JSON.parse(e)}catch(n){return}}();return Object(Z.d)(K,e,Object(Z.a)(X.a))};document.addEventListener("DOMContentLoaded",(function(){var e=Q();e.subscribe((function(){!function(e){try{var n=JSON.stringify(e);localStorage.setItem("savedState",n)}catch(r){}}(e.getState())})),window.getState=e.getState;var n=document.getElementById("root");c.a.render(a.a.createElement(B,{store:e}),n)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.20221b79.chunk.js.map
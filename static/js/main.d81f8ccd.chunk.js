(this.webpackJsonpgetmiles=this.webpackJsonpgetmiles||[]).push([[0],{25:function(n,e,r){n.exports=r(40)},30:function(n,e,r){},36:function(n,e,r){},40:function(n,e,r){"use strict";r.r(e);var t=r(0),a=r.n(t),o=r(8),c=r.n(o),i=(r(30),r(5)),u=(r(36),r(22)),d=r(16),l=r(17),s=r(24),f=r(23),p=r(1),g=r(2);function m(){var n=Object(p.a)(["\n  grid-area: vertspacer;\n  grid-row-start: 1;\n  grid-row-end: span 8;\n  border-right: 1px solid black;\n  margin: 10px;\n"]);return m=function(){return n},n}function b(){var n=Object(p.a)(["\ngrid-area: spacer;\nheight: 50px;\n\n"]);return b=function(){return n},n}function v(){var n=Object(p.a)(["\n  \n  line-height:20px;\n  width: 20px;\n  position: absolute;\n  top: 2px;\n  right:2px;\n  cursor: pointer;\n  border-radius: 10px;\n  background-color: white;\n"]);return v=function(){return n},n}function h(){var n=Object(p.a)(["\n         line-height: 100px;\n         margin: 20px auto;\n         background-color: ",";\n         grid-area: ",";\n         text-align: center;\n         height: 100px;\n         width:100px;\n         position: relative;\n         \n\n\n       "]);return h=function(){return n},n}function x(){var n=Object(p.a)(["\n    grid-area: ",";\n    grid-row-start: 2;\n    grid-row-end: span 7;\n    text-align: center;\n    border-right: 1px solid black;\n"]);return x=function(){return n},n}function w(){var n=Object(p.a)(["\n   grid-column-start: 3 ;\n   grid-column-end: 8;\n   border-bottom: 1px solid black;\n   margin-bottom: 10px;\n   \n\n"]);return w=function(){return n},n}function y(){var n=Object(p.a)(["\n  text-align: center;\n  grid-area: ",";\n  /* border-bottom: 1px solid black; */\n  margin: 20px auto;\n  /* text-decoration: underline; */\n  \n"]);return y=function(){return n},n}function k(){var n=Object(p.a)(["\n  cursor: pointer;\n  box-sizing: border-box;\n  width: 100px;\n  height: 100px;\n  background-color: ",";\n  text-align: center;\n  line-height: 100px;\n  margin: 20px auto;\n  grid-area: ",";\n\n\n"]);return k=function(){return n},n}function E(){var n=Object(p.a)(['\n         display: grid;\n         width: 80vw;\n         grid-template-columns: minmax(150px,1fr) 0.5fr minmax(150px,1fr) minmax(150px,1fr) minmax(150px,1fr) minmax(150px,1fr) minmax(150px,1fr);\n         /* 150px 50px 150px 150px 150px 150px 150px  */\n          \n         grid-template-rows: auto;\n         /* grid-gap: 20px; */\n         grid-template-areas:\n           "rewardheader vertspacer categoryheader . . . ."\n           ".  . c1header  c2header  c3header  c4header  c5header"\n           ". . . spacer . . ."\n           "r1 . r1c1 r1c2 r1c3 r1c4 r1c5"\n           "r2 . r2c1 r2c2 r2c3 r2c4 r2c5"\n           "r3 . r3c1 r3c2 r3c3 r3c4 r3c5"\n           "r4 . r4c1 r4c2 r4c3 r4c4 r4c5"\n           "r5 . r5c1 r5c2 r5c3 r5c4 r5c5";\n       ']);return E=function(){return n},n}var D=g.a.div(E()),R=g.a.div(k(),(function(n){return n.color}),(function(n){return n.location})),O=g.a.h2(y(),(function(n){return n.location})),j=g.a.div(w()),S=g.a.div(x(),(function(n){return n.location})),A=g.a.div(h(),(function(n){return n.color}),(function(n){return n.location})),C=g.a.div(v()),T=g.a.div(b()),U=g.a.div(m()),P=[{name:"r1",category:"c1",bgcolor:"#f5e6e8"},{name:"r2",category:"c2",bgcolor:"#a3f7b5"},{name:"r3",category:"c3",bgcolor:"#40c9a2"},{name:"r4",category:"c4",bgcolor:"#2f9c95"},{name:"r5",category:"c5",bgcolor:"#bee3ea"}],W={r1:"#f5e6e8",r2:"#a3f7b5",r3:"#40c9a2",r4:"#2f9c95",r5:"#bee3ea"},_=function(n){Object(s.a)(r,n);var e=Object(f.a)(r);function r(){return Object(d.a)(this,r),e.apply(this,arguments)}return Object(l.a)(r,[{key:"onDragOver",value:function(n){n.preventDefault()}},{key:"onDragStart",value:function(n,e,r){console.log("dragstart:",e,"key:",r),n.dataTransfer.setData("id",e),n.dataTransfer.setData("key",r)}},{key:"onDrop",value:function(n,e){var r=n.dataTransfer.getData("id"),t=n.dataTransfer.getData("key"),a=Object(u.a)(this.props.rewards),o=a.find((function(n){return n.key===t}));if(o)this.props.movingReward(o,e);else if(!o){var c={name:r,location:"".concat(r).concat(e),bgcolor:W[r],key:t};a.push(c),this.props.updateReward(c)}}},{key:"deletePlacedReward",value:function(n){this.props.removeReward(n)}},{key:"renderDropZones",value:function(){var n=this;return["c1","c2","c3","c4","c5"].map((function(e){return a.a.createElement(S,{"data-testid":"".concat(e,"Dropzone"),key:e,location:"".concat(e,"header"),className:"rewards1",onDragOver:function(e){return n.onDragOver(e)},onDrop:function(r){return n.onDrop(r,"".concat(e))}},a.a.createElement("span",{className:"category"},e))}))}},{key:"renderRewards",value:function(){var n=this;return P.map((function(e){return a.a.createElement(R,{"data-testid":"rewards".concat(e.name),key:e.name,color:e.bgcolor,location:e.name,draggable:!0,onDragStart:function(r){return n.onDragStart(r,e.name,Date.now())}},e.name)}))}},{key:"renderPlacedRewards",value:function(){var n,e=this;return this.props.rewards.length>0&&(n=this.props.rewards.map((function(n){return a.a.createElement(A,{"data-testid":"reward ".concat(n.location),location:n.location,key:n.key,color:n.bgcolor,draggable:!0,onDragStart:function(r){return e.onDragStart(r,n.name,n.key)}},n.name,a.a.createElement(C,{onClick:function(){return e.deletePlacedReward(n.key)}},"X"))}))),n}},{key:"render",value:function(){var n=this.renderPlacedRewards(),e=this.renderRewards(),r=this.renderDropZones();return a.a.createElement(D,null,a.a.createElement(T,null),a.a.createElement(O,{style:{borderBottom:"1px solid black"},location:"rewardheader"},"Rewards"),e,a.a.createElement(j,null,a.a.createElement(O,null,"Categories")),r,n,a.a.createElement(U,null))}}]),r}(a.a.Component),J=Object(i.b)((function(n){return{rewards:Object.values(n.rewards.present)}}),(function(n){return{updateReward:function(e){return n(function(n){return function(n){return{type:"ADD_REWARD",reward:n}}(n)}(e))},removeReward:function(e){return n(function(n){return function(n){return{type:"DELETE_REWARD",key:n}}(n)}(e))},movingReward:function(e,r){return n(function(n,e){return function(n,e){return{type:"UPDATE_REWARD",reward:n,cat:e}}(n,e)}(e,r))}}}))(_),L=r(7),N=r.n(L),z=function(n){var e=n.canUndo,r=n.canRedo,t=n.onUndo,o=n.onRedo;return a.a.createElement("p",null,a.a.createElement("button",{type:"undo",onClick:t,disabled:!e},"Undo"),a.a.createElement("button",{type:"redo",onClick:o,disabled:!r},"Redo"))},I=z=Object(i.b)((function(n){return{canUndo:n.rewards.past.length>0,canRedo:n.rewards.future.length>0}}),(function(n){return{onUndo:function(){return n(L.ActionCreators.undo())},onRedo:function(){return n(L.ActionCreators.redo())}}}))(z);var B=function(){return a.a.createElement("div",null,a.a.createElement(J,null),a.a.createElement(I,null))},Z=function(n){var e=n.store;return a.a.createElement(i.a,{store:e},a.a.createElement(B,null))},M=r(3),X=r(21),q=r.n(X),F=[],G=N()((function(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,r=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),r.type){case"ADD_REWARD":return n=e.concat([r.reward]);case"UPDATE_REWARD":var t=r.reward,a=t.name,o=t.bgcolor,c=t.key;return(n=e.filter((function(n){return n.key!==c}))).push({name:a,key:c,location:"".concat(a).concat(r.cat),bgcolor:o}),n;case"DELETE_REWARD":return n=e.filter((function(n){return n.key!==r.key}));default:return e}})),H=Object(M.c)({rewards:G}),K=function(){var n=function(){try{var n=localStorage.getItem("savedState");if(null===n)return;return JSON.parse(n)}catch(e){return}}();return Object(M.d)(H,n,Object(M.a)(q.a))};document.addEventListener("DOMContentLoaded",(function(){var n=K();n.subscribe((function(){!function(n){try{console.log(n);var e=JSON.stringify(n);localStorage.setItem("savedState",e)}catch(r){}}(n.getState())})),window.getState=n.getState;var e=document.getElementById("root");c.a.render(a.a.createElement(Z,{store:n}),e)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.d81f8ccd.chunk.js.map